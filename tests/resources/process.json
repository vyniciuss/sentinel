{
  "sourcesConfig": [
    {
      "name": "tableA",
      "tableName": "tableA",
      "tableComment": "This table stores tableA information.",
      "database": "dat1",
      "catalog": "cat1",
      "keys": [
        "country",
        "tenant",
        "id"
      ],
      "partitioningKeys": [
        "tenant",
        "country"
      ],
      "format": "delta",
      "readOptions": {
        "ignoreMissingFiles": "true"
      }
    }
  ],
  "destinationsConfig": [
    {
      "name": "transaction",
      "tableName": "transaction",
      "tableComment": "This table stores transaction information.",
      "database": "db2",
      "catalog": "cat2",
      "keys": [
        "country",
        "tenant",
        "code"
      ],
      "partitioningKeys": [
        "tenant",
        "country"
      ],
      "writeOptions": {
        "mergeSchema": "true",
        "overwriteSchema": "true",
        "partitionOverwriteMode": "dynamic"
      },
      "format": "delta"
    }
  ],
  "dataQuality": {
    "greatExpectations": [
      {
        "expectationType": "expect_column_to_exist",
        "kwargs": {
          "column": "name"
        }
      },
      {
        "expectationType": "expect_column_values_to_not_be_null",
        "kwargs": {
          "column": "age"
        }
      },
      {
        "expectationType": "expect_column_values_to_be_in_set",
        "kwargs": {
          "column": "status",
          "value_set": [
            "single",
            "married",
            "divorced"
          ]
        }
      }
    ],
    "customExpectations": [
      {
        "name": "total_custom",
        "sql": "SELECT COUNT(*) as total from test_db.source_table where age=45 ",
        "expectedResults": [{"total": 2}]
      },
      {
        "name": "total_custom2",
        "sql": "SELECT COUNT(*) as total, name, status from test_db.source_table group by name, status",
        "expectedResults": [{"total": 1, "name": "Alice", "status": "single"}, {"total": 1, "name": "Alice", "status": "married"}]
      }
    ]
  }
}
